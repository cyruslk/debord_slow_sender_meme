{"ast":null,"code":"var _jsxFileName = \"/Users/cyrus/Documents/Code/01. Code/debord_slow_sender_meme/client_side/src/App.js\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport { Stitch, AnonymousCredential, RemoteMongoClient } from \"mongodb-stitch-browser-sdk\";\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.retrieveDataFromDBOnLoad = () => {\n      this.client.auth.loginWithCredential(new AnonymousCredential()).then(this.retrieveDataFromDB).catch(console.error);\n    };\n\n    this.retrieveDataFromDB = () => {\n      this.db.collection(\"meme_entries\").find().asArray().then(dbContent => {\n        this.setState({\n          dbContent\n        });\n      });\n    };\n\n    this.displayMeme = () => {\n      const dbContent = this.state.dbContent;\n\n      if (!dbContent) {\n        return null;\n      }\n\n      let generateMemesFromDb = this.state.dbContent.map((ele, index) => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"h1\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 11\n          }\n        }, ele.word), /*#__PURE__*/React.createElement(\"img\", {\n          src: \"https://m.media-amazon.com/images/M/MV5BMDJhOWFjOTAtNTVjNy00ZjFkLWIyYzItNTYyZmNlM2U5MTZiXkEyXkFqcGdeQXVyNDkzNTM2ODg@._V1_SY1000_SX1500_AL_.jpg\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 11\n          }\n        }), /*#__PURE__*/React.createElement(\"h1\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 11\n          }\n        }, ele.translatedPrediction));\n      });\n      console.log(generateMemesFromDb);\n    };\n\n    this.state = {\n      dbContent: null\n    };\n  }\n\n  componentDidMount() {\n    this.client = Stitch.initializeDefaultAppClient(\"debord_slow_sender-eabsu\");\n    const mongodb = this.client.getServiceClient(RemoteMongoClient.factory, \"mongodb-atlas\");\n    this.db = mongodb.db(\"debord_slow_sender\");\n    this.retrieveDataFromDBOnLoad();\n  }\n\n  render() {\n    console.log(this.state);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 7\n      }\n    }, this.displayMeme());\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/cyrus/Documents/Code/01. Code/debord_slow_sender_meme/client_side/src/App.js"],"names":["React","Component","axios","Stitch","AnonymousCredential","RemoteMongoClient","App","constructor","retrieveDataFromDBOnLoad","client","auth","loginWithCredential","then","retrieveDataFromDB","catch","console","error","db","collection","find","asArray","dbContent","setState","displayMeme","state","generateMemesFromDb","map","ele","index","word","translatedPrediction","log","componentDidMount","initializeDefaultAppClient","mongodb","getServiceClient","factory","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,SACEC,MADF,EAEEC,mBAFF,EAGEC,iBAHF,QAIO,4BAJP;;AAQA,MAAMC,GAAN,SAAkBL,SAAlB,CAA4B;AAC1BM,EAAAA,WAAW,GAAE;AACX;;AADW,SAiBbC,wBAjBa,GAiBc,MAAM;AAC/B,WAAKC,MAAL,CAAYC,IAAZ,CACGC,mBADH,CACuB,IAAIP,mBAAJ,EADvB,EAEGQ,IAFH,CAEQ,KAAKC,kBAFb,EAGGC,KAHH,CAGSC,OAAO,CAACC,KAHjB;AAID,KAtBY;;AAAA,SAwBbH,kBAxBa,GAwBQ,MAAM;AACxB,WAAKI,EAAL,CACGC,UADH,CACc,cADd,EAEGC,IAFH,GAGGC,OAHH,GAIGR,IAJH,CAIQS,SAAS,IAAI;AACjB,aAAKC,QAAL,CAAc;AAACD,UAAAA;AAAD,SAAd;AACD,OANH;AAOA,KAhCU;;AAAA,SAkCbE,WAlCa,GAkCC,MAAM;AAClB,YAAMF,SAAS,GAAG,KAAKG,KAAL,CAAWH,SAA7B;;AACA,UAAG,CAACA,SAAJ,EAAc;AACZ,eAAO,IAAP;AACD;;AACD,UAAII,mBAAmB,GAAG,KAAKD,KAAL,CAAWH,SAAX,CACzBK,GADyB,CACrB,CAACC,GAAD,EAAMC,KAAN,KAAgB;AACnB,4BACE;AAAK,UAAA,GAAG,EAAEA,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKD,GAAG,CAACE,IAAT,CADF,eAEE;AAAK,UAAA,GAAG,EAAC,gJAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKF,GAAG,CAACG,oBAAT,CAHF,CADF;AAOD,OATyB,CAA1B;AAUAf,MAAAA,OAAO,CAACgB,GAAR,CAAYN,mBAAZ;AACD,KAlDY;;AAEX,SAAKD,KAAL,GAAa;AACXH,MAAAA,SAAS,EAAE;AADA,KAAb;AAGD;;AAEDW,EAAAA,iBAAiB,GAAE;AACjB,SAAKvB,MAAL,GAAcN,MAAM,CAAC8B,0BAAP,CAAkC,0BAAlC,CAAd;AACA,UAAMC,OAAO,GAAG,KAAKzB,MAAL,CAAY0B,gBAAZ,CACd9B,iBAAiB,CAAC+B,OADJ,EAEd,eAFc,CAAhB;AAIA,SAAKnB,EAAL,GAAUiB,OAAO,CAACjB,EAAR,CAAW,oBAAX,CAAV;AACA,SAAKT,wBAAL;AACD;;AAsCD6B,EAAAA,MAAM,GAAG;AACPtB,IAAAA,OAAO,CAACgB,GAAR,CAAY,KAAKP,KAAjB;AACA,wBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKD,WAAL,EADH,CADF;AAKD;;AA7DyB;;AA+D5B,eAAejB,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from \"axios\";\n\n\nimport {\n  Stitch,\n  AnonymousCredential,\n  RemoteMongoClient\n} from \"mongodb-stitch-browser-sdk\";\n\n\n\nclass App extends Component {\n  constructor(){\n    super()\n    this.state = {\n      dbContent: null\n    };\n  }\n\n  componentDidMount(){\n    this.client = Stitch.initializeDefaultAppClient(\"debord_slow_sender-eabsu\");\n    const mongodb = this.client.getServiceClient(\n      RemoteMongoClient.factory,\n      \"mongodb-atlas\"\n    );\n    this.db = mongodb.db(\"debord_slow_sender\");\n    this.retrieveDataFromDBOnLoad()\n  }\n\n  retrieveDataFromDBOnLoad = () => {\n    this.client.auth\n      .loginWithCredential(new AnonymousCredential())\n      .then(this.retrieveDataFromDB)\n      .catch(console.error);\n  };\n\n  retrieveDataFromDB = () => {\n     this.db\n       .collection(\"meme_entries\")\n       .find()\n       .asArray()\n       .then(dbContent => {\n         this.setState({dbContent});\n       });\n    }\n\n  displayMeme = () => {\n    const dbContent = this.state.dbContent;\n    if(!dbContent){\n      return null;\n    }\n    let generateMemesFromDb = this.state.dbContent\n    .map((ele, index) => {\n      return (\n        <div key={index}>\n          <h1>{ele.word}</h1>\n          <img src=\"https://m.media-amazon.com/images/M/MV5BMDJhOWFjOTAtNTVjNy00ZjFkLWIyYzItNTYyZmNlM2U5MTZiXkEyXkFqcGdeQXVyNDkzNTM2ODg@._V1_SY1000_SX1500_AL_.jpg\" />\n          <h1>{ele.translatedPrediction}</h1>\n        </div>\n      )\n    })\n    console.log(generateMemesFromDb);\n  }\n\n\n  render() {\n    console.log(this.state);\n    return (\n      <div className=\"App\">\n        {this.displayMeme()}\n      </div>\n    );\n  }\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}