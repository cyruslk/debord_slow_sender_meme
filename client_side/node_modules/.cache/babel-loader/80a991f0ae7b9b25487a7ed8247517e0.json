{"ast":null,"code":"import _classCallCheck from\"/Users/cyrus/Documents/Code/01. Code/debord_slow_sender_meme/client_side/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/cyrus/Documents/Code/01. Code/debord_slow_sender_meme/client_side/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/cyrus/Documents/Code/01. Code/debord_slow_sender_meme/client_side/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/cyrus/Documents/Code/01. Code/debord_slow_sender_meme/client_side/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./App.css';import axios from\"axios\";import{Stitch,AnonymousCredential,RemoteMongoClient}from\"mongodb-stitch-browser-sdk\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.retrieveDataFromDBOnLoad=function(){_this.client.auth.loginWithCredential(new AnonymousCredential()).then(_this.retrieveDataFromDB).catch(console.error);};_this.retrieveDataFromDB=function(){_this.db.collection(\"meme_entries\").find().asArray().then(function(dbContent){_this.setState({dbContent:dbContent});});};_this.displayMeme=function(){var dbContent=_this.state.dbContent;if(!dbContent){return null;}var generateMemesFromDb=_this.state.dbContent.map(function(ele,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,className:\"memes\"},/*#__PURE__*/React.createElement(\"h1\",null,ele.word),/*#__PURE__*/React.createElement(\"img\",{src:ele.imageLink}),/*#__PURE__*/React.createElement(\"h1\",null,ele.translatedPrediction));});return generateMemesFromDb;};_this.state={dbContent:null};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.client=Stitch.initializeDefaultAppClient(\"debord_slow_sender-eabsu\");var mongodb=this.client.getServiceClient(RemoteMongoClient.factory,\"mongodb-atlas\");this.db=mongodb.db(\"debord_slow_sender\");this.retrieveDataFromDBOnLoad();}},{key:\"render\",value:function render(){console.log(this.state);return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},this.displayMeme());}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/cyrus/Documents/Code/01. Code/debord_slow_sender_meme/client_side/src/App.js"],"names":["React","Component","axios","Stitch","AnonymousCredential","RemoteMongoClient","App","retrieveDataFromDBOnLoad","client","auth","loginWithCredential","then","retrieveDataFromDB","catch","console","error","db","collection","find","asArray","dbContent","setState","displayMeme","state","generateMemesFromDb","map","ele","index","word","imageLink","translatedPrediction","initializeDefaultAppClient","mongodb","getServiceClient","factory","log"],"mappings":"4uBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAGA,OACEC,MADF,CAEEC,mBAFF,CAGEC,iBAHF,KAIO,4BAJP,C,GAQMC,CAAAA,G,0FACJ,cAAa,qCACX,wBADW,MAiBbC,wBAjBa,CAiBc,UAAM,CAC/B,MAAKC,MAAL,CAAYC,IAAZ,CACGC,mBADH,CACuB,GAAIN,CAAAA,mBAAJ,EADvB,EAEGO,IAFH,CAEQ,MAAKC,kBAFb,EAGGC,KAHH,CAGSC,OAAO,CAACC,KAHjB,EAID,CAtBY,OAwBbH,kBAxBa,CAwBQ,UAAM,CACxB,MAAKI,EAAL,CACGC,UADH,CACc,cADd,EAEGC,IAFH,GAGGC,OAHH,GAIGR,IAJH,CAIQ,SAAAS,SAAS,CAAI,CACjB,MAAKC,QAAL,CAAc,CAACD,SAAS,CAATA,SAAD,CAAd,EACD,CANH,EAOA,CAhCU,OAkCbE,WAlCa,CAkCC,UAAM,CAClB,GAAMF,CAAAA,SAAS,CAAG,MAAKG,KAAL,CAAWH,SAA7B,CACA,GAAG,CAACA,SAAJ,CAAc,CACZ,MAAO,KAAP,CACD,CACD,GAAII,CAAAA,mBAAmB,CAAG,MAAKD,KAAL,CAAWH,SAAX,CACzBK,GADyB,CACrB,SAACC,GAAD,CAAMC,KAAN,CAAgB,CACnB,mBACE,2BAAK,GAAG,CAAEA,KAAV,CAAiB,SAAS,CAAC,OAA3B,eACE,8BAAKD,GAAG,CAACE,IAAT,CADF,cAEE,2BAAK,GAAG,CAAEF,GAAG,CAACG,SAAd,EAFF,cAGE,8BAAKH,GAAG,CAACI,oBAAT,CAHF,CADF,CAOD,CATyB,CAA1B,CAUA,MAAON,CAAAA,mBAAP,CACD,CAlDY,CAEX,MAAKD,KAAL,CAAa,CACXH,SAAS,CAAE,IADA,CAAb,CAFW,aAKZ,C,6EAEkB,CACjB,KAAKZ,MAAL,CAAcL,MAAM,CAAC4B,0BAAP,CAAkC,0BAAlC,CAAd,CACA,GAAMC,CAAAA,OAAO,CAAG,KAAKxB,MAAL,CAAYyB,gBAAZ,CACd5B,iBAAiB,CAAC6B,OADJ,CAEd,eAFc,CAAhB,CAIA,KAAKlB,EAAL,CAAUgB,OAAO,CAAChB,EAAR,CAAW,oBAAX,CAAV,CACA,KAAKT,wBAAL,GACD,C,uCAsCQ,CACPO,OAAO,CAACqB,GAAR,CAAY,KAAKZ,KAAjB,EACA,mBACE,2BAAK,SAAS,CAAC,KAAf,EACG,KAAKD,WAAL,EADH,CADF,CAKD,C,iBA7DerB,S,EA+DlB,cAAeK,CAAAA,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport axios from \"axios\";\n\n\nimport {\n  Stitch,\n  AnonymousCredential,\n  RemoteMongoClient\n} from \"mongodb-stitch-browser-sdk\";\n\n\n\nclass App extends Component {\n  constructor(){\n    super()\n    this.state = {\n      dbContent: null\n    };\n  }\n\n  componentDidMount(){\n    this.client = Stitch.initializeDefaultAppClient(\"debord_slow_sender-eabsu\");\n    const mongodb = this.client.getServiceClient(\n      RemoteMongoClient.factory,\n      \"mongodb-atlas\"\n    );\n    this.db = mongodb.db(\"debord_slow_sender\");\n    this.retrieveDataFromDBOnLoad()\n  }\n\n  retrieveDataFromDBOnLoad = () => {\n    this.client.auth\n      .loginWithCredential(new AnonymousCredential())\n      .then(this.retrieveDataFromDB)\n      .catch(console.error);\n  };\n\n  retrieveDataFromDB = () => {\n     this.db\n       .collection(\"meme_entries\")\n       .find()\n       .asArray()\n       .then(dbContent => {\n         this.setState({dbContent});\n       });\n    }\n\n  displayMeme = () => {\n    const dbContent = this.state.dbContent;\n    if(!dbContent){\n      return null;\n    }\n    let generateMemesFromDb = this.state.dbContent\n    .map((ele, index) => {\n      return (\n        <div key={index} className=\"memes\">\n          <h1>{ele.word}</h1>\n          <img src={ele.imageLink} />\n          <h1>{ele.translatedPrediction}</h1>\n        </div>\n      )\n    })\n    return generateMemesFromDb;\n  }\n\n\n  render() {\n    console.log(this.state);\n    return (\n      <div className=\"App\">\n        {this.displayMeme()}\n      </div>\n    );\n  }\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}